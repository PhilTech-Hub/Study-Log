{% extends 'learning_logs/base.html' %}
{% load static %}

{% block content %}
<div class="update-profile-container bg-shade1">
  <h2>Update Profile</h2>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <!-- Displaying and Changing Profile Image -->
    <div class="form-group-image">
      <label for="id_image"></label><br>
      <div class="update-profile-image-container ">
        <img src="{% if user.profile.image %}{{ user.profile.image.url }}{% else %}{% static 'profile_images/default.png' %}{% endif %}"
        alt="Profile Image" class="profile-image"><br>
      </div><br>
      {{ p_form.image }}
    </div>
    <div class="form-group">
      <label for="id_username">Username:</label>
      {{ u_form.username }}
    </div>
    <div class="form-group">
      <label for="id_email">Email:</label>
      {{ u_form.email }}
    </div>
    <div class="form-group">
      <label for="id_first_name">First Name:</label>
      {{ u_form.first_name }}
    </div>
    <div class="form-group">
      <label for="id_last_name">Last Name:</label>
      {{ u_form.last_name }}
    </div>


    <h3>Change Password</h3>
    <div class="form-group">
      <label for="id_old_password">Old Password:</label>
      {{ password_form.old_password }}
    </div>
    <div class="form-group">
      <label for="id_new_password1">New Password:</label>
      {{ password_form.new_password1 }}
    </div>
    <div class="form-group">
      <label for="id_new_password2">Confirm New Password:</label>
      {{ password_form.new_password2 }}
    </div>

    <button type="submit" class="btn btn-primary">Update Profile</button>
  </form>
</div>
{% endblock %}